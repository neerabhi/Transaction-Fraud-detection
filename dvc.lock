schema: '2.0'
stages:
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/external/fraud_detection.csv
      hash: md5
      md5: 70fcd4ce85aa9596388048bbdf656161
      size: 49248400
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 3deb86df3f6603eb7cac7442637db730
      size: 832
    outs:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
  fraud_dist:
    cmd: python notebooks\univariate_analysis\fraud_dist.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: notebooks\univariate_analysis\fraud_dist.py
      hash: md5
      md5: d569e0b0626e8c4863dc94557f632f5b
      size: 2902
    outs:
    - path: reports/figures/fraud_distribution.png
      hash: md5
      md5: bd082b855dbb1eb179289a44ce15a79f
      size: 62293
  cat:
    cmd: python notebooks/univariate_analysis/cat.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: notebooks/univariate_analysis/cat.py
      hash: md5
      md5: aee48ead2ca971aacab4e66fc0cae90c
      size: 3824
    outs:
    - path: reports/figures/categorical_distribution.png
      hash: md5
      md5: 7f53169e91abef479e5edf2eb92784d6
      size: 189238
  num:
    cmd: python notebooks/univariate_analysis/num.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: notebooks\univariate_analysis\num.py
      hash: md5
      md5: dc91315b52eb07ab9942e2a8ed4a8267
      size: 3178
    outs:
    - path: reports/figures/numerical_distribution.png
      hash: md5
      md5: 59d62fa535ea058c166d4c42d0c63590
      size: 501050
  bivariate:
    cmd: python notebooks/bivariate.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: notebooks/bivariate.py
      hash: md5
      md5: dd000adf37f7e97091ab437476fbcb91
      size: 4422
    outs:
    - path: reports/figures/bivariate_analysis/amount_distribution.png
      hash: md5
      md5: 3e07b080521543ba86bbfdb89066fe3b
      size: 83079
    - path: reports/figures/bivariate_analysis/fraud_by_type.png
      hash: md5
      md5: 483b4374232668598829775661b0a6c7
      size: 115565
    - path: reports/figures/bivariate_analysis/origin_dest_analysis.png
      hash: md5
      md5: 06be9e89dbffc749b727bcf13e3d3325
      size: 91921
    - path: reports/figures/bivariate_analysis/type_distribution.png
      hash: md5
      md5: ab4b2426c2a50f313e8fdda582c1b0e4
      size: 81942
  multivariate:
    cmd: python notebooks/multivariate.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: notebooks/multivariate.py
      hash: md5
      md5: fd9c8b984fac17bbaf20fb71e3e634d4
      size: 3431
    outs:
    - path: reports/figures/correlation_matrix.png
      hash: md5
      md5: 2cdfad15a0541efdba6a5641b6187ae7
      size: 432891
  splitting:
    cmd: python src/Processing/splitting.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: src/Processing/splitting.py
      hash: md5
      md5: 540c39699723c7f6d361c3ec3436aab8
      size: 2751
    outs:
    - path: data/processed/split
      hash: md5
      md5: 0eca1481ab2d7aa49300c8cb62d67262.dir
      size: 47928042
      nfiles: 6
  onehot:
    cmd: python src/Processing/onehot.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: src/Processing/onehot.py
      hash: md5
      md5: 96c5cd80540e314e0d47091d4c503b56
      size: 2750
    outs:
    - path: data/processed/ohe
      hash: md5
      md5: 718c265497c8b554e64920b631e26f3c.dir
      size: 46982407
      nfiles: 3
  scale:
    cmd: python src/Processing/scale.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: src/Processing/scale.py
      hash: md5
      md5: a5a72b6bcafb6e2d4e1d4a3041bf1afe
      size: 3022
    outs:
    - path: data/processed/scaling
      hash: md5
      md5: 94ace7e78337739bcaca77d811b183c5.dir
      size: 83564182
      nfiles: 3
  finefeature:
    cmd: python src/Processing/finefeature.py
    deps:
    - path: data/interim/featured_data.csv
      hash: md5
      md5: 00edead6608fa594f78a755f011e6d95
      size: 72438728
    - path: src/Processing/scale.py
      hash: md5
      md5: a5a72b6bcafb6e2d4e1d4a3041bf1afe
      size: 3022
    outs:
    - path: data/processed/finefeatures
      hash: md5
      md5: 73c60d5da13a057f36a0cdb33b60697f.dir
      size: 52565198
      nfiles: 3
  dummy:
    cmd: python src/models/dummy/model_building.py
    deps:
    - path: data/processed/finefeatures/X_train_finalfeatures.csv
      hash: md5
      md5: b4e739e7b1423a8c9d9257af05ae8873
      size: 33642866
    - path: data/processed/split/y_train.csv
      hash: md5
      md5: 85264e2846bc659b1ff7711e57877ee3
      size: 1221631
    - path: src/models/dummy/model_building.py
      hash: md5
      md5: f6b85eeaac706bbc7fc603b4ccea049f
      size: 901
    outs:
    - path: models/dummy_model.joblib
      hash: md5
      md5: 76c589b5e8a966df54e4bf44cff81254
      size: 1031
  dummy_eval:
    cmd: python src/models/dummy/model_evaluate.py
    deps:
    - path: data/processed/finefeatures/X_test_finalfeatures.csv
      hash: md5
      md5: d8095b2e7b8b61e458f68ec6ea988cca
      size: 10511028
    - path: data/processed/split/y_test.csv
      hash: md5
      md5: 24573352893e11f2c7facf5a7cb287d8
      size: 381769
    - path: models/dummy/dummy_model.pkl
      hash: md5
      md5: 08fdbdfebb4be2ec24cb7d70b44dd2f6
      size: 678
    - path: src/models/dummy/model_evaluate.py
      hash: md5
      md5: 49e3b7a61c2927444d198a4673dd1a7d
      size: 3650
    outs:
    - path: metrics/dummy/classification_report.txt
      hash: md5
      md5: bd18650cf2950369d46340aa806be6c4
      size: 334
    - path: metrics/dummy/evaluation_metrics.json
      hash: md5
      md5: 9b157293c48527282d5094d8c400ca93
      size: 1009
  logistic:
    cmd: python src/models/logistic/model_building.py
    deps:
    - path: data/processed/finefeatures/X_train_finalfeatures.csv
      hash: md5
      md5: b4e739e7b1423a8c9d9257af05ae8873
      size: 33642866
    - path: data/processed/split/y_train.csv
      hash: md5
      md5: 85264e2846bc659b1ff7711e57877ee3
      size: 1221631
    - path: src/models/logistic/model_building.py
      hash: md5
      md5: 0e626c8bacdfc64a2c124f0b6dae27e9
      size: 908
    outs:
    - path: models/logistic_model.joblib
      hash: md5
      md5: 7fcb30a6277beac450ac8e983af0b681
      size: 1375
  logistic_eval:
    cmd: python src/models/logistic/model_evaluate.py
    deps:
    - path: data/processed/finefeatures/X_test_finalfeatures.csv
      hash: md5
      md5: d8095b2e7b8b61e458f68ec6ea988cca
      size: 10511028
    - path: data/processed/split/y_test.csv
      hash: md5
      md5: 24573352893e11f2c7facf5a7cb287d8
      size: 381769
    - path: models/logistic_model.joblib
      hash: md5
      md5: 7fcb30a6277beac450ac8e983af0b681
      size: 1375
    - path: src/models/logistic/model_evaluate.py
      hash: md5
      md5: 0b3abbca293a6a92ec4457a2ccad5b79
      size: 3653
    outs:
    - path: metrics/logistic/classification_report.txt
      hash: md5
      md5: e995bbbd5003a986581f1f77e0a46746
      size: 334
    - path: metrics/logistic/evaluation_metrics.json
      hash: md5
      md5: 761ca428b5996d1517f72d0e920a1886
      size: 1107
  SVM:
    cmd: python src/models/svm/model_building.py
    deps:
    - path: data/processed/finefeatures/X_train_finalfeatures.csv
      hash: md5
      md5: b4e739e7b1423a8c9d9257af05ae8873
      size: 33642866
    - path: data/processed/split/y_train.csv
      hash: md5
      md5: 85264e2846bc659b1ff7711e57877ee3
      size: 1221631
    - path: src/models/svm/model_building.py
      hash: md5
      md5: 122f034bd759646628ebf29edb6550dc
      size: 876
    outs:
    - path: models/svm_model.joblib
      hash: md5
      md5: 82390502408a9556250ff518f55e9629
      size: 86779
  SVM_eval:
    cmd: python src/models/svm/model_evaluate.py
    deps:
    - path: data/processed/finefeatures/X_test_finalfeatures.csv
      hash: md5
      md5: d8095b2e7b8b61e458f68ec6ea988cca
      size: 10511028
    - path: data/processed/split/y_test.csv
      hash: md5
      md5: 24573352893e11f2c7facf5a7cb287d8
      size: 381769
    - path: models/svm_model.joblib
      hash: md5
      md5: 82390502408a9556250ff518f55e9629
      size: 86779
    - path: src/models/svm/model_evaluate.py
      hash: md5
      md5: 93c55fe60b7b3c7e6394d391a6c1578e
      size: 3623
    outs:
    - path: metrics/svm/classification_report.txt
      hash: md5
      md5: bd18650cf2950369d46340aa806be6c4
      size: 334
    - path: metrics/svm/evaluation_metrics.json
      hash: md5
      md5: 49daef739a058e79b6b136e5a822ed6e
      size: 1005
